---
const { img, title, subtitle, description, pageHtml } = Astro.props;
---

<div
  class="cursor-pointer hover:opacity-80 transition bg-white p-6 shadow-md rounded-lg"
  data-html={pageHtml}
  onclick="openPage(this)"
>
  <img src={img} alt={title} class="w-full h-48 object-cover rounded-md mb-4" />
  <h2 class="text-2xl font-bold">{title}</h2>
  <h3 class="text-sm text-gray-500 mb-2">{subtitle}</h3>
  <p class="text-gray-700">{description}</p>
</div>

<script is:inline>
  function openPage(element) {
    const html = element.getAttribute("data-html");
    const newWindow = window.open();
    if (newWindow) {
      newWindow.document.write(html);
      newWindow.document.close();
    }
  }
</script>
