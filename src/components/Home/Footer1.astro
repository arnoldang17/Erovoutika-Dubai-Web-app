---
import { fetchPageContent } from "@/components/db";

const content = await fetchPageContent("Home");
const footerContent = content.footerContent;
---

<footer
    class="relative bg-[url(/src/assets/images/footer-images/Foots.png)] h-auto w-full bg-cover bg-no-repeat bg-center text-white bottom-0"
>
    <div class="container mx-auto px-6 py-12">
        <div
            class="flex flex-col md:flex-row justify-center items-center md:items-start gap-4 md:gap-6"
        >
            <!-- Contact Information -->
            <div
                class="w-full md:w-auto flex-1 max-w-md text-center md:text-left"
            >
                <h2 class="text-xl font-bold pb-4 md:pl-16">
                    Contact Information
                </h2>
                <div
                    class="flex flex-col md:flex-row items-center justify-center gap-4"
                >
                    <div
                        class="w-32 h-32 bg-cover bg-center"
                        style={`background-image: url('${footerContent.contact.qrCode}');`}
                    >
                    </div>
                    <div>
                        <p
                            class="flex items-center justify-center md:justify-start gap-2 text-sm"
                        >
                            <img
                                src="/src/assets/images/footer-images/email.png"
                                alt="Email"
                                class="w-4 h-4"
                            />
                            <span>{footerContent.contact.email}</span>
                        </p>
                        <a
                            href={`mailto:${footerContent.contact.email}`}
                            class="mt-4 inline-block px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded hover:bg-blue-700 transition"
                        >
                            Contact Us!
                        </a>
                    </div>
                </div>
            </div>

            <!-- Navigation Links -->
            <div class="w-full md:w-auto flex-1 max-w-md">
                <ul
                    class="flex flex-wrap justify-center gap-4 md:gap-6 text-sm font-medium"
                >
                    {
                        footerContent.links.map(
                            (link: {
                                name: unknown;
                                href: string | URL | null | undefined;
                            }) => (
                                <li key={link.name}>
                                    <a
                                        href={link.href}
                                        class="hover:text-gray-300 transition"
                                    >
                                        {link.name}
                                    </a>
                                </li>
                            )
                        )
                    }
                </ul>
            </div>

            <!-- Social Media Links -->
            <div class="w-full md:w-auto flex-1 max-w-md text-center">
                <h2 class="text-xl font-bold pb-4 text-[30px]">Follow Us!</h2>
                <div class="flex justify-center items-center gap-4">
                    {
                        footerContent.socials.map((socialObj) => {
                            const key = Object.keys(socialObj)[0];
                            return (
                                <a
                                    href={socialObj[key]["href"]}
                                    class="hover:opacity-80 transition"
                                    key={socialObj[key]["name"]}
                                >
                                    <img
                                        src={socialObj[key]["icon"]}
                                        alt={socialObj[key]["name"]}
                                        class={`w-${socialObj[key]["size"]} h-${socialObj[key]["size"]} md:w-8 md:h-8`}
                                    />
                                </a>
                            );
                        })
                    }
                </div>
            </div>
        </div>
    </div>
</footer>
